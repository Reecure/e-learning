generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialActions"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type LessonsLessonContent {
  blocks Json
}

type LessonsLessonContentBlocks {
  code       String?
  id         String?
  paragraphs Json
  title      String?
  type       String?
}

type LessonsLessonContentBlocksParagraphs {
  id   String
  text String
}

type UsersProgress {
  courseId        String
  modulesProgress UsersProgressModulesProgress[]
}

type UsersProgressModulesProgress {
  lessonsProgress UsersProgressModulesProgressLessonsProgress[]
  moduleId        String
}

type UsersProgressModulesProgressLessonsProgress {
  isRead     Boolean
  lessonId   String
  lessonType String
}

model course_categories {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  @@map("course-categories")
}

model courses {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  author_id         String   @db.ObjectId
  category_id       String
  cover_description String
  cover_image       String
  creation_date     DateTime @db.Date
  description       String
  difficulty_level  String
  duration          String
  isVisible         Boolean
  rating            Int
  title             String
}

model events_and_activities {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  @@map("events-and-activities")
}

model grades_and_progress {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  @@map("grades-and-progress")
}

model lessons {
  id             String @id @default(auto()) @map("_id") @db.ObjectId
  author_id      String @db.ObjectId
  lesson_content Json
  lesson_type    String
  module_id      String @db.ObjectId
  order          Int
  title          String
}

model modules {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  course_id String @map(" course_id") @db.ObjectId
  author_id String @db.ObjectId
  order     Int
  title     String
}

model reviews {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model users {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  avatar            String
  courses           String[]
  email             String   @unique
  firstname         String
  is_new_user       Boolean
  lastname          String
  password          String
  courses_progress  Json[]
  modules_progress  Json[]
  lessons_progress  Json[]
  registration_date DateTime @db.Date
  role              String
}
